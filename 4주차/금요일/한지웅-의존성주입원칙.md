# ëª©ì°¨

> 1. ì˜ì¡´ì„±ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì˜ ì˜ë¯¸
> 
> 2. ì˜ì¡´ì„± ì£¼ì…
> 
> 3. SOLID ì›ì¹™
> 
> 4. í”„ë ˆì„ì›Œí¬ì—ì„œì˜ ì˜ì¡´ì„± ì£¼ì…

# ğŸ“Œ ì˜ì¡´ì„±ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì˜ ì˜ë¯¸

ì˜ì¡´ì„±ì€ êµ¬ì„±ìš”ì†Œë“¤ì´ ì„œë¡œ ì˜ì¡´í•˜ëŠ” ì„±ì§ˆì„ ë§í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©° í•œë²ˆ ì•Œì•„ë³´ì.

```ts
class Coffee {
    startProgramming() {
        console.log('I need Caffeine â˜•ï¸')
    }
}

class Programmer {
    private coffee: Coffee;

    constructor() {
        this.coffee = new Coffee();
    }

    programming() {
        this.coffee.startProgramming();
    }
}

const programmer: Programmer = new Programmer();
programmer.programming(); // I need Caffeine â˜•ï¸
```

Programmerê°€ Coffee í´ë˜ìŠ¤ì— ì˜ì¡´ì„±ì„ ë„ê³  ìˆë‹¤.

ê·¼ë°, ì—¬ê¸°ì„œ Coffee ê°€ StarbucksCoffee ë¡œ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´? ì–´ë–¤ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì•¼í• ê¹Œ?

ë‹¤ìŒ ë‘ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì´ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

1. Coffee ë¥¼ ìˆ˜ì •í•˜ê³ , Programmer ë¥¼ ìˆ˜ì •í•œë‹¤.
2. Coffee ì„ ìƒì†ë°›ì€ StarbucksCoffee í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , Programmer ë¥¼ ìˆ˜ì •í•œë‹¤.

ìœ„ ë‘ê°€ì§€ ë°©ë²• ëª¨ë‘ ê²°êµ­ Programmer ë‚´ë¶€ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤. ì¦‰, ì˜ì¡´ì„±ì€ í•˜ë‚˜ë¥¼ ë³€ê²½í•˜ë©´ ì˜ì¡´í•˜ëŠ” ëª¨ë“  ê²ƒë“¤ì„ ë³€ê²½í•´ì•¼í•œë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.

ë˜ ë§Œì•½ì— CoffeeBean, TwoSomePlace ë“± ì´ëŸ° ì˜ì¡´ì„±ì„ ê°€ì§„ í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ì–´í•œë‹¤ë©´? ì´ì™€ ê°™ì€ ì‘ì—…ì€ ì •ë§ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ ë  ê²ƒì´ë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê²ƒì´ ì˜ì¡´ì„± ì£¼ì…ì´ë‹¤.

# ğŸ“Œ ì˜ì¡´ì„± ì£¼ì…

ê·¸ë ‡ë‹¤ë©´ ì˜ì¡´ì„±ì£¼ì…ì´ë€ ë¬´ì—‡ì¼ê¹Œ? ì§ì ‘ ì˜ì¡´ì„±ì„ ë„£ì–´ ë‚´ë¶€ë¡œì§ì„ ìˆ˜ì •í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ë‹¤ìŒì˜ ì½”ë“œë¥¼ ë³´ë©° í™•ì¸í•´ë³´ì.

```ts
class Coffee {
    startProgramming() {
        console.log('I need Caffeine â˜•ï¸')
    }
}

class Starbucks extends Coffee {
    startProgramming() {
        console.log('I like Starbucks! â˜•ï¸')
    }
}

class Programmer {
    private coffee: Coffee;
    
    // ìƒì„±ìë¥¼ ë°›ê³  ì£¼ì…í•œë‹¤. 
    constructor(coffee: Coffee) {
        this.coffee = coffee;
    }

    programming() {
        this.coffee.startProgramming();
    }
}

const programmer: Programmer = new Programmer(new Starbucks());
programmer.programming(); // I like Starbucks! â˜•ï¸
```

ì´ì²˜ëŸ¼ ìƒˆë¡œ ì¶”ê°€ë  ë•Œ ë§ˆë‹¤ ê·¸ì— í•´ë‹¹í•˜ëŠ” classë¥¼ ìƒì„±í•˜ê³ , ìƒì„±ìë¡œ ì „ë‹¬í•˜ì—¬ ì˜ì¡´ì„±ì´ ë³€ë™ë˜ì–´ë„ ë‚´ë¶€ ë¡œì§ì„ ìˆ˜ì •í•  í•„ìš”ì—†ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

# ğŸ“Œ SOLID ì›ì¹™

ì˜ì¡´ì„± ì£¼ì…ì„ ì œëŒ€ë¡œ ì´í•´í•˜ê¸° ìœ„í•´ì„  SOLID ì›ì¹™ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ë„ì›€ì´ëœë‹¤. 

[NestJS](https://docs.nestjs.com/providers#custom-providers)ì—ì„œë„ `SOLID`ì›ì¹™ì„ ê¶Œì¥í•˜ê³  `IoC Container`ë¡œ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•œë‹¤.
[Spring](https://docs.spring.io/spring-framework/reference/core/beans/introduction.html)ë˜í•œ ë§ˆì°¬ê°€ì§€ì´ë¯€ë¡œ ê´€ë ¨ëœ ë‚´ìš©ì„ í•™ìŠµí•  í•„ìš”ê°€ ìˆë‹¤.

[SOLID](https://en.wikipedia.org/wiki/SOLID)ëŠ” ê°ì²´ì§€í–¥ ë””ìì¸ ì›ì¹™ 5ê°€ì§€ì˜ ì•ê¸€ìë¥¼ ë”°ì„œ ì´ë¦„ì§€ì€ ì›ì¹™ì´ë‹¤.

1. **S**ingle Responsibility Principle (ë‹¨ì¼ ì±…ì„ ì›ì¹™)
2. **O**pen-Closed Principle (ê°œë°© - íì‡„ ì›ì¹™)
3. **L**iskov Substitution Principle
4. **I**nterface Segregation Principle
5. **D**ependency Inversion Principle

## Single Responsibility
- í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•  ë•Œ, ìˆ˜ì •í•˜ëŠ” ì´ìœ ê°€ ë‹¨ í•œê°€ì§€ì—¬ì•¼í•œë‹¤. ì¦‰, ê° í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ì„ ê°€ì ¸ì•¼í•œë‹¤.
  - í•˜ë‚˜ì˜, ì˜ ì •ì œëœ ì±…ì„ì„ ê° í´ë˜ìŠ¤ê°€ ì§€ë‹Œë‹¤ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ê³  ìˆ˜ì •í•˜ê¸° ìš©ì´í•˜ë‹¤.
  - í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ Single focusë¡œ ì§„í–‰í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.
  - ì—°ê´€ ì—†ëŠ” ì‹œìŠ¤í…œì— ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤.
  - <u>ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ ëª©ì </u>
   
### Single Responsibility ì˜ˆì‹œ

ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ê³  í•˜ì.

```ts
class CoffeeMachine {
    constructor() {}
    
    heatMilk() {
        // ìš°ìœ ë¥¼ ë°ìš°ëŠ” ê¸°ëŠ¥
    }
    
    dripCoffee() {
        // ì»¤í”¼ë¥¼ ë‚´ë¦¬ëŠ” ê¸°ëŠ¥
    }
}
```

ì´ì™€ê°™ì€ ê°ì²´ëŠ” ìœ„ì˜ SRPë¥¼ ìœ„ë°˜í•œ ê²ƒì´ë‹¤. `CoffeeMachine`ì´ ë‘ê°€ì§€ ê¸°ëŠ¥ì„ í•˜ê¸° ë•Œë¬¸

ì´ë¥¼ í•´ê²°í•œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

```ts
class CoffeeMachine {
    constructor() {}
    
    dripCoffee() {
        // ì»¤í”¼ë¥¼ ë‚´ë¦¬ëŠ” ê¸°ëŠ¥
    }
}

class MilkHeater {
    constructor() {}
    
    heatMilk() {
        // ìš°ìœ ë¥¼ ë°ìš°ëŠ” ê¸°ëŠ¥
    }
}
```

## Open-closed
- ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°(í´ë˜ìŠ¤, ëª¨ë“ˆ, í•¨ìˆ˜ ë“±)ì€ í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ê³ , ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.
  - ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ê°œë°œí•  ë•Œ ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  í™•ì¥í•  ìˆ˜ ìˆë‹¤.
  - ë³€í™”ê°€ ë°œìƒí•  ë•Œì˜ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.
  - <u>ìœ ì—°ì„±ê³¼ í™•ì¥ì„± í–¥ìƒ ëª©ì </u>

### Open-closed ì˜ˆì‹œ

OCPì˜ í•µì‹¬ì€ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë„ ê¸°ì¡´ ì½”ë“œë¥¼ ë°”ê¿€ í•„ìš”ê°€ ì—†ëŠ” ê²ƒì´ë‹¤. ì•„ë˜ì˜ ì˜ˆì‹œë¥¼ í†µí•´ ì•Œì•„ë³´ì.

```ts
interface Shape {
    draw(): void;
}

class Circle implements Shape {
    draw(): void {
        // ì›ì„ ê·¸ë¦¬ëŠ” ë¡œì§
    }
}

class Rectangle implements Shape {
    draw(): void {
        // ì§ì‚¬ê°í˜•ì„ ê·¸ë¦¬ëŠ” ë¡œì§
    }
}

class ShapeRenderer {
    render(shape: Shape): void {
        shape.draw();
    }
}
```

ì—¬ê¸°ì„œ `interface`ì˜ í˜ì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, ì´ì™€ ê°™ì€ ê´€ê³„ë¥¼ ê°€ì ¸ ì‚¼ê°í˜• ë“±ì˜ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ë”ë¼ë„ ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ë‹¤.

```mermaid
classDiagram
    class Shape {
        <<interface>>
        +draw() void
    }
    
    class Circle {
        +draw() void
    }
    
    class Rectangle {
        +draw() void
    }
    
    class Triangle {
        +draw() void
    }
    
    class Pentagon {
        +draw() void
    }
    
    class ShapeRenderer {
        +render(Shape) void
    }
    
    Shape <|.. Circle : implements
    Shape <|.. Rectangle : implements
    Shape <|.. Triangle : implements
    Shape <|.. Pentagon : implements
    
    ShapeRenderer --> Shape : depends on
    
    %% ìŠ¤íƒ€ì¼ë§
    class Triangle {
        <<future>>
    }
    class Pentagon {
        <<future>>
    }
```

ì—¬ë‹´ìœ¼ë¡œ ìë°” ê°•ì˜ë¥¼ ì§„í–‰í•˜ëŠ” **ê¹€ì˜í•œ** ê°œë°œìë‹˜ê»˜ì„œ OCPë¥¼ ìë°” í”„ë¡œê·¸ë˜ë° SOLID ì›ì¹™ì˜ ê½ƒì´ë¼ê³  ì–¸ê¸‰í•œì ì´ ìˆë‹¤ê³  í•œë‹¤. ë¬¼ë¡  Nestë„ ì¤‘ìš”í•˜ì§€ë§Œ Springì„ ê³µë¶€í•˜ëŠ” ë¶„ë“¤ì€ ì´ ë‚´ìš©ì„ ë”ë”ìš± ë¨¸ë¦¬ì†ì— ë„£ì!

## Liskov substitution
- ìë£Œí˜• `S`ê°€ ìë£Œí˜• ìë£Œí˜• `T`ì˜ í•˜ìœ„í˜•ì´ë¼ë©´ í•„ìš”í•œ í”„ë¡œê·¸ë¨ì˜ ì†ì„± ë³€ê²½ì—†ì´ ìë£Œí˜• `T`ì˜ ê°ì²´ë¥¼ ìë£Œí˜• `S`ì˜ ê°ì²´ë¡œ ì¹˜í™˜í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
  - ì„œë¸Œíƒ€ì…ì€ ì–¸ì œë‚˜ ê¸°ë°˜íƒ€ì…ìœ¼ë¡œ êµì²´ê°€ëŠ¥í•´ì•¼í•œë‹¤.
  - ì¦‰, ë¶€ëª¨í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ ì‚¬ì´ì˜ í–‰ìœ„ì—ëŠ” `ì¼ê´€ì„±`ì´ ìˆì–´ì•¼í•œë‹¤.
    - ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ëŒ€ì‹  ìì‹í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•´ë„ ë¬¸ì œê°€ ì—†ì–´ì•¼í•œë‹¤.
  - ìë°”ì˜ ë‹¤í˜•ì„± ì›ë¦¬ê°€ ê·¸ ì˜ˆì‹œ
    - ë‹¤í˜•ì„± ê¸°ëŠ¥ì„ í™œìš©í•˜ê¸° ìœ„í•´ì„œ í´ë˜ìŠ¤ë¥¼ ìƒì†ì‹œì¼œ íƒ€ì…ì„ í†µí•©í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•´ì•¼í•¨.
    - ì—…ìºìŠ¤íŒ…ì„ í•´ë„ ë©”ì†Œë“œ ë™ì‘ì— ë¬¸ì œì—†ê²Œ ì˜ ì„¤ê³„í•˜ì—¬ì•¼ í•œë‹¤

### Liskov substitution ì˜ˆì‹œ

```ts
class Bird {
    fly(distance: number): string {
        return `This bird flies ${distance} meters`;
    }
}

class Sparrow extends Bird {
    fly(distance: number): string {
        return `This sparrow flies ${distance} meters quickly`;
    }
}

class Eagle extends Bird {
    fly(distance: number): string {
        return `This eagle soars ${distance} meters at high altitude`;
    }
}

// Sparrow, Eagle ë‘˜ë‹¤ Birdê°€ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ ê³³ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
// Birdì˜ flyì˜ ë§¤ê°œë³€ìˆ˜ê°€ numberì¸ ê²ƒ, ë°˜í™˜ê°’ì´ stringì¸ ê²ƒ, stringì˜ ë‚´ìš©ì´ ìœ ì‚¬í•œ ê²ƒì„ ê³ ë ¤í•˜ë©´ LSPë¥¼ ì¤€ìˆ˜í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

class BirdWatcher {
    watchBirdFly(bird: Bird, distance: number) {
        console.log(bird.fly(distance));
    }
}

const bird = new Bird();
const sparrow = new Sparrow();
const eagle = new Eagle();

const birdWatcher = new BirdWatcher();
birdWatcher.watchBirdFly(bird, 100);     // This bird flies 100 meters
birdWatcher.watchBirdFly(sparrow, 100);  // This sparrow flies 100 meters quickly
birdWatcher.watchBirdFly(eagle, 100);    // This eagle soars 100 meters at high altitude
```

## Interface segregation

- í´ë˜ìŠ¤ëŠ” ìì‹ ì´ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œì„ êµ¬í˜„í•´ì•¼í•œë‹¤. 
  - í•˜ë‚˜ì˜ ì¼ë°˜ì  ì¸í„°í˜ì´ìŠ¤ë³´ë‹¨, ì—¬ëŸ¬ê°œì˜ êµ¬ì²´ì  ì¸í„°í˜ì´ìŠ¤ê°€ ë” ì¢‹ë‹¤ëŠ” ë§.
  - ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤(ê¸°ëŠ¥)ì—ëŠ” ì˜í–¥ë°›ì§€ ì•Šì•„ì•¼í•œë‹¤.

### Interface segregation

ë‹¤ìŒì˜ ì½”ë“œë¥¼ ë´ë³´ì.

```ts
interface Printer {
  copy(): void
  print(doc: string): void
  cooking(doc: string, result: string): void
}

class SimplePrinter implements Printer {
  copy(): void {
    console.log('copy...')
  }

  print(doc: string): void {
     console.log(`print ${doc}`)
  }

  cooking(doc: string, result: string): void {
     console.log(`watch ${doc} and cooking ${result}`)
  }
}
```

`Printer`ê°€ ë„ˆë¬´ë‚˜ ë§ì€ ê¸°ëŠ¥ì„ ê°€ì§€ê³ ìˆë‹¤. ë”ë¶ˆì–´ `cooking`ì€ ë”ë”ìš± ë¬¸ì œê°€ ëœë‹¤.

ì´ë¥¼ `ISP`ë¥¼ ì¤€ìˆ˜í•˜ì—¬ ë¦¬íŒ©í† ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•´ë³¼ ìˆ˜ ìˆë‹¤.

```ts
interface Copyable {
  copy(): void;
}

interface Printable {
  print(doc: string): void;
}

interface Cookable {
  cook(recipe: string, dish: string): void;
}

// ë‹¨ìˆœ í”„ë¦°í„°ëŠ” ì¶œë ¥ê³¼ ë³µì‚¬ë§Œ ê°€ëŠ¥
class SimplePrinter implements Copyable, Printable {
  copy(): void {
    console.log('copy...');
  }

  print(doc: string): void {
    console.log(`print ${doc}`);
  }
}

// ìŠ¤ë§ˆíŠ¸ ì£¼ë°©ê¸°ê¸°ëŠ” ìš”ë¦¬ ê¸°ëŠ¥ë§Œ ìˆìŒ
class SmartKitchen implements Cookable {
  cook(recipe: string, dish: string): void {
    console.log(`follow ${recipe} and cook ${dish}`);
  }
}

// ë³µí•©ê¸°ëŠ” ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„
class MultiFunction implements Copyable, Printable, Cookable {
  copy(): void {
    console.log('copy...');
  }

  print(doc: string): void {
    console.log(`print ${doc}`);
  }

  cook(recipe: string, dish: string): void {
    console.log(`follow ${recipe} and cook ${dish}`);
  }
}
```

## Dependency inversion

ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì´ë¼ê³ ë„ ë¶€ë¥´ë©°, ì˜ì¡´ ê´€ê³„ë¥¼ ë§ºì„ ë•Œ, **ë³€í™”í•˜ê¸° ì–´ë ¤ìš´ ê²ƒ**ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë‹¤.

ê°ì²´ì§€í–¥ì  ê´€ì ì—ì„œ ë³€í™”í•˜ê¸° ì‰¬ìš´ê²ƒì€ êµ¬ì²´í™”ëœ `class`ì´ê³ , ë³€í™”í•˜ê¸° ì–´ë ¤ìš´ê²ƒì€ ì¶”ìƒ `class`ë‚˜ `interface`ë¥¼ ì˜ë¯¸í•œë‹¤.

ì´ëŸ° êµ¬ì¡°ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í•„ìš”í•œ ë©”ì„œë“œë§Œ ì‚¬ìš©í•˜ëŠ” ëŠìŠ¨í•œ ê²°í•©ì„ í˜•ì„±í•˜ê³ , í…ŒìŠ¤íŠ¸/í™•ì¥ì„±ì—ì„œ í° ì¥ì ì„ ì§€ë‹Œë‹¤.

### Dependency inversion ì˜ˆì‹œ

```ts
interface IWindow {
  open(): void;
  close(): void;
}

class CarWindow implements IWindow {
  open(): void {
    console.log('window is open...')
  }

  close(): void {
    console.log('window is close...')
  }
}

class WindowSwitch {
  private isOn = false;

  constructor(
    private window: IWindow
  ) {
    this.isOn = false
  }

  onPress(): void {
    if (this.isOn) {
      this.window.close()
      this.isOn = false
    } else {
      this.window.open()
      this.isOn = true
    }
  }
}
```

ì´ ì½”ë“œì˜ ê²½ìš° `WindowSwitch`ê°€ `IWindow` ì¸í„°í˜ì´ìŠ¤ë¡œ ì •ì˜ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¸ìë¡œ ë°›ê³ ìˆë‹¤. ì¦‰, í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ì˜ëœ ëª¨ë“  í´ë˜ìŠ¤ì— ëŒ€í•´ ìœ ì—°í•œ ëŒ€ì²˜ê°€ ê°€ëŠ¥í•˜ë‹¤.

ì´ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```mermaid
classDiagram
    class IWindow {
        <<interface>>
        +open() void
        +close() void
    }
    
    class WindowSwitch {
        -isOn: boolean
        -window: IWindow
        +onPress() void
    }
    
    class CarWindow {
        +open() void
        +close() void
    }
    
    class HomeWindow {
        +open() void
        +close() void
    }
    
    IWindow <|.. CarWindow : implements
    IWindow <|.. HomeWindow : implements
    WindowSwitch --> IWindow : depends on
    
    note for WindowSwitch "High-level module, Depends on abstraction"
    note for IWindow "Abstraction"
    note for CarWindow "Low-level module, Implements abstraction"
    
    class HomeWindow {
        <<future>>
    }
```

ë˜ ì´ë¥¼ ì£¼ì…ì˜ ê´€ì ì—ì„œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê·¸ë¦´ ìˆ˜ ìˆë‹¤.

```mermaid
sequenceDiagram
    participant CW as CarWindow
    participant IW as IWindow
    participant WS as WindowSwitch
    
    Note over CW: implements IWindow
    CW->>IW: Provides open() and close()
    Note over WS: Constructor injection
    IW->>WS: Methods injected through interface
    
    Note over WS: Using injected methods
    WS->>IW: window.open()
    IW->>CW: Actual implementation called
    
    Note over WS: Later...
    WS->>IW: window.close()
    IW->>CW: Actual implementation called
```

# ğŸ“Œ í”„ë ˆì„ì›Œí¬ì—ì„œì˜ ì˜ì¡´ì„± ì£¼ì…

Springê³¼ Nest ëª¨ë‘ `IoC ì»¨í…Œì´ë„ˆ`ë¥¼ í™œìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•œë‹¤. ì˜ˆì‹œ ì½”ë“œë¥¼ í†µí•´ ì•Œì•„ë³´ì.

<details>
<summary>Spring</summary>

```java
// 1. ì»´í¬ë„ŒíŠ¸ ì„ ì–¸
// @Service, @Repository, @Controller ë“±
@Component  
public class CoffeeService {
    void brew() { ... }
}

// 2. ì˜ì¡´ì„± ì£¼ì…
@Service
public class CafeService {
    private final CoffeeService coffeeService;

    // ìƒì„±ì ì£¼ì…
    @Autowired
    public CafeService(CoffeeService coffeeService) {
        this.coffeeService = coffeeService;
    }
}
```
</details>

<details>
<summary>Nest</summary>

```ts
// 1. í”„ë¡œë°”ì´ë” ì„ ì–¸
@Injectable()
export class CoffeeService {
    brew(): void { ... }
}

// 2. ì˜ì¡´ì„± ì£¼ì…
@Injectable()
export class CafeService {
    constructor(
        private readonly coffeeService: CoffeeService
    ) {}
}

// 3. ëª¨ë“ˆì— ë“±ë¡
@Module({
    providers: [CoffeeService, CafeService]
})
export class CafeModule {}
```
</details>

ë¬¼ë¡  ë‘˜ì€ ì°¨ì´ì ì´ ë§ë‹¤. ì–¸ì–´, ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ ë“±ì—ì„œ ì°¨ì´ê°€ ì¡´ì¬í•œë‹¤. í•˜ì§€ë§Œ ì „ë°˜ì ì¸ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```mermaid
sequenceDiagram
    participant App as Application Start
    participant IoC as IoC Container
    participant CS as CoffeeService
    participant Cafe as CafeService
    
    App->>IoC: 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
    Note over IoC: 2. ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”
    IoC->>CS: 3. CoffeeService ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    IoC->>Cafe: 4. CafeService ìƒì„± ì‹œë„
    Note over IoC: 5. ì˜ì¡´ì„± í™•ì¸
    IoC-->>Cafe: 6. CoffeeService ì£¼ì…
    Note over Cafe: 7. ì´ˆê¸°í™” ì™„ë£Œ
```

ì¦‰, `IoC Container`ê°€ ìœ„ì—ì„œ ë‹¤ë¤˜ë˜ ì˜ì¡´ì„± ê´€ë ¨ ë¡œì§ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ê²ƒì„ ì´í•´í•˜ì. êµ¬ê¸€ì— `IoC Container`ì„ ê²€ìƒ‰í•˜ë©´ ê´€ë ¨ ìë£Œê°€ ë§ì´ ë‚˜ì˜¤ë‹ˆ ê´€ì‹¬ìˆëŠ” í”„ë ˆì„ì›Œí¬ì— ë§ëŠ” í•™ìŠµì„ ì¶”ê°€ì ìœ¼ë¡œ ì§„í–‰í•´ë³´ì.

ì•„ë¬´íŠ¼ ì´ë¥¼ í†µí•´ ê°œë°œìëŠ” ìì—°ìŠ¤ëŸ½ê²Œ

1. SOLID ì¤€ìˆ˜
2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘
3. í…ŒìŠ¤íŠ¸ ì½”ë“œ, í™•ì¥ì´ ìš©ì´í•œ ì½”ë“œ ì‘ì„±

ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ ì˜ì¡´ì„± ì£¼ì…ì„ ìë™í™”í•˜ê³  ê´€ë¦¬í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ê°€ ê°œë°œìì˜ ì½”ë“œì‘ì„±ì„ ë•ëŠ” ê²ƒì´ë‹¤.

ë‹¤í•¨ê»˜ ì™¸ì³ìš” ***ê³ ë§ˆì›Œ ìŠ¤í”„ë§~ ë„¤ìŠ¤íŠ¸~***

# ğŸ’¡ê²°ë¡ 

- ì˜ì¡´ì„±ì˜ ê°œë…, ì˜ì¡´ì„± ì£¼ì…ì˜ ê°œë…ì„ í•™ìŠµí–ˆë‹¤.
- SOLID ì›ì¹™ì„ í•™ìŠµí–ˆë‹¤.
- í”„ë ˆì„ì›Œí¬ì—ì„œ ì˜ì¡´ì„±ê³¼ ê´€ë ¨ëœ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” IoC Containerì— ëŒ€í•œ ê°œë…ì„ í•™ìŠµí–ˆë‹¤.

# ğŸ“š Ref.

[SOLID ì¤€ìˆ˜í•´ì„œ ì½”ë”©í•˜ê¸° (feat. TypeScript) - Velog](https://velog.io/@junsugi/SOLID-%EC%A4%80%EC%88%98%ED%95%B4%EC%84%9C-%EC%BD%94%EB%94%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-feat.-Typescript)

[Typescriptë¡œ ë³´ëŠ” SOLID - ì§ë°© ê¸°ìˆ ë¸”ë¡œê·¸(Medium)](https://medium.com/zigbang/typescript%EB%A1%9C-%EB%B3%B4%EB%8A%94-solid-e9384b208f6d)

[Typescriptì™€ OOP SOLID ì›ì¹™ - MOON WORK ê¸°ìˆ ë¸”ë¡œê·¸](https://moon-works.tistory.com/34)
